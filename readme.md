По информации из интернета я узнал, что MemSql совместим с MySql и для работы с ним используется 
go-sql-driver/mysql. Это обертка над пакетом database/sql. В пакете database/sql есть реализация пула sql.DB. 
Пулу можно задать ограничения на кол-во подключений, но он не поддерживает нескольких пользователей.

Значит нужно модифицировать пакет database/sql. Нужно добавить менеджер пулов для того, чтобы каждый пул зависел от 
общих ограничений.

Также нужно сделать зависимость mysql от модифицированного database/sql

Для начала нужно найти код, который возвращает соединение для методов QueryContext и ExecContext.
Там нужно добавить свою стратегию.

Если достигнут лимит соединений для пула, то горутина посылает сигнал через канал в своём пуле о необходимости
создать соединение и ждёт пока соединение освободится. (connectionOpener)

Я сделал горутину, которая запускается при создании менеджера пула. Эта горутина запускается при создании пула.

Нужно сделать копию горутины со ссылкой на пулы.